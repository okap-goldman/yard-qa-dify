## 1. 概要  
本要件定義書は、社内／社外から利用可能なサポートチャットボットの基本要件を示したサンプルである。  
チャットボットは、エクセルで管理された最新マニュアルを手動同期によって取得し、スタッフからの問い合わせに自動で回答する機能を提供する。

## 2. 対象業務・利用シナリオ  
- **対象業務例**：  
  - レッスン予約システムにおける顧客対応手順確認  
  - チェックイン・キャンセル処理、キャンセルペナルティ判定基準の確認  
  - パスワードリセット、講師シフト確認などのFAQ問い合わせ  
- **利用シナリオ例**：  
  1. スタッフがチャットボットに「休暇会員向けの予約手順は？」と質問  
  2. チャットボットが最新のマニュアル内容を表示（手順を一括表示、必要画像を適切な箇所に挿入）  
  3. スタッフが理解しやすい形で情報を取得

## 3. 想定ユーザー・権限  
- **ユーザー**：  
  - コールセンターオペレーター、受付スタッフ、サポート担当者など（社外含む）  
- **権限・アクセス**：  
  - ログイン認証必須（BASIC認証など簡易な認証でも可）  
  - ログインしたユーザーのみチャットボット利用可能  
  - マニュアルは手動で同期。更新のたびに管理者が手動でナレッジベース再構築（エクセル→マークダウン→LLM投入）  
  - マニュアル更新後の反映は1時間以内を目安

## 4. 機能要件

### 1. FAQ検索機能  
- 自然文もしくはキーワードベースの質問が可能。  
- ユーザーがメッセージ入力時に、FAQ質問キーワードのサジェスト（オートコンプリート）を表示することで、ユーザーが問い合わせ内容を特定・絞りやすくする。  
- 一度の回答で、関連手順や説明をまとめて提示する。  

### ~~2. 手順ナビゲーション機能~~  
- 廃止（不要）  
- 回答時、全ての手順を一括で提示する。

### 3. マニュアル画像参照機能  
- 最新のマニュアルに存在する画像キャプチャを回答内に組み込む。  
- 複数画像がある場合、回答テキスト内の適切な箇所に画像を配置（行間または該当手順説明箇所の直後など）。  
- 画像はサーバ上の格納URLを参照し、チャット画面にインライン表示可能な形式で提供。

**回答例イメージ**：

「以下が休暇会員向け予約手順です：

1. 会員ステータス(休暇中)を確認し、管理画面の[会員情報]を開く  
   ![会員情報画面例](https://example.com/member_info.png)

2. 「休暇会員予約」タブを選択し、日付選択画面へ移動  
   ![休暇会員用予約画面例](https://example.com/holiday_reservation.png)

3. 希望日時を指定し、残チケット数を確認後、[予約確定]を押下

以上となります。」

### 4. マニュアル更新連動機能  
- マニュアル更新は手動同期で対応  
- 更新日時や更新箇所は回答に反映する必要なし  
- 更新後1時間以内に最新内容をチャットボットに反映

### ~~5. 絞り込み・詳細表示機能~~  
- 廃止（不要）  
- 問い合わせ時に必要な情報を一度に表示

### ログイン機能  
- ログイン必須  
- 認証方法はBASIC認証や簡易なID/PW方式でOK（SSO必須でない）  
- 認証済ユーザーのみチャットボット利用可能

## 5. 非機能要件

### 1. パフォーマンス  
- 問い合わせに対して3秒以内に初回回答  
- 同時アクセス20～30ユーザーを想定

### 2. 信頼性・保守性  
- マニュアル更新から1時間以内にナレッジ反映  
- 障害時の手動回答ロジックリロード機能は不要

### 3. セキュリティ  
- 社外ネットワークからのアクセスも許可  
- ログイン必須による第三者利用制限

### コスト  
- LLMは「Gemini 2.0 Flash」または「Gemini 1.5 Pro」を検討（無料枠・200万トークンInput対応）  
- コスト低減のため、この無料利用可能なLLMを活用

## 6. 運用・保守手順

- マニュアルはエクセルで管理  
- 最新版へのナレッジベース反映は以下手順を想定：  
  1. 担当者がエクセルマニュアルを更新  
  2. マニュアルの内容をマークダウンに変換
  3. APIでマニュアルをナレッジベースに反映
  4. 1時間以内にチャットボットが更新内容を参照可能に